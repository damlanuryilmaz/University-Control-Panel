{% extends 'base.html' %} {% load static %} {% block title %}Main Page{% endblock title %} {% block content %}

<div class="container mt-5 d-flex justify-content-center align-items-center">
  <div class="col-md-6">
    <h2 class="text-center">Send Message to Teachers</h2>
    <form method="POST" action="{% url 'send_message' %}">
      {% csrf_token %} 
      {% if error %}
      <div class="alert alert-danger" role="alert">{{ error }}</div>
      {% endif %} 
      {% if messages %}
      
        {% for message in messages %}
        <div class="alert alert-dismissible alert-success" role="success">{{ message }}</div>
        {% endfor %}
      
      {% endif %}
      <div class="form-group">
        <label for="teacher_select">Teachers</label>

        <select class="form-control" id="teacher_select" name="teacher_select">
          {% for teacher in teachers %}
          <option value="{{ teacher.username }}">{{ teacher.first_name }} {{ teacher.last_name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="form-group">
        <label for="message">Message</label>
        <textarea
          class="form-control"
          id="message"
          name="message"
          rows="5"
          placeholder="Type your message here"
        ></textarea>
      </div>
      <div class="text-center">
        <button
          type="submit"
          class="btn btn-primary mt-4"
          onclick="return confirm('Are you sure you want to send the message?')"
        >
          Submit
        </button>
      </div>
    </form>
  </div>
</div>

{% endblock content %}
